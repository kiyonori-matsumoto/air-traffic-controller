# Air Traffic Controller Simulation (Working Title)

本格的な航空管制（ATC）を体験できる、プロフェッショナル志向のシミュレーションゲームプロジェクトです。
1海里(NM)＝1単位の厳密な座標系と物理挙動をベースに、プレイヤーは管制官として航空機のセパレーション（間隔）を維持し、安全に着陸へと導きます。

![screenshot](screenshot.png)

## プロジェクトのビジョン

- **本格的なシミュレーション**: 旋回率（3度/秒）や、水平5NM・垂直1000ftのセパレーション規定など、実際の航空管制に近いロジックを実装します。
- **ストイックなUI**: 実際のレーダー画面を彷彿とさせる、予測ベクトルや航跡（トレール）を備えたプロ仕様のインターフェースを目指します。
- **高い拡張性**: 最初はWeb（GitHub Pages）での公開、最終的にはElectronを用いたSteamでのリリースも視野に入れています。

## 開発ロードマップ

### Phase 1：基礎の「点」と「物理」 (Completed)
目標：1NM=1単位の座標系で、機体が正確に動く。
- [x] Aircraftクラスの作成（x, y 座標、速度、方位）
- [x] Delta Timeを使った移動ロジック（Speed × Time）
- [x] Phaserでの描画（マイル → ピクセル変換）

### Phase 2：管制官の「命令」 (In Progress)
目標：プレイヤーが機体に介入し、進路を変えられる。
- [x] 機体をクリックで「選択（Select）」する状態の管理
- [x] キーボード入力による「目標方位（Target Heading）」の指定
- [x] 本物ポイント: 毎秒3度の旋回率でゆっくり曲がる旋回ロジック

### Phase 3：緊張感の「セパレーション」
目標：ゲームオーバー（または警告）の条件を作る。
- [ ] 2機以上の機体出現ロジック
- [ ] 全機体ペアの距離計算ロジック
- [ ] 本物ポイント: 水平5NM以内、かつ高度1000ft以内に入ったら「衝突」と判定
- [ ] 接近した機体のデータブロックの警告表示

### Phase 4：情報の「視覚化（プロ仕様）」
目標：UIをストイックにし、本物のレーダー画面に近づける。
- [ ] 予測ベクトル: 1分後の到達点に線を伸ばす
- [ ] 航跡（トレール）: 数秒前の位置をドットで残す
- [ ] データブロック: 便名・高度・速度を機体横に常時表示

### Phase 5：運用の「ゴール（着陸）」
目標：ゲームとしてのサイクルを完結させる。
- [ ] 滑走路（Runway）の設定
- [ ] ILS誘導: 特定の方位と高度で「進入開始ポイント」を通過した際の着陸処理
- [ ] スポナー: 画面端から新しい機体が出現し続ける仕組み

## 技術スタック

- **Core**: Phaser 3.90.0 (Game Engine)
- **Language**: TypeScript 5.7.2
- **Build Tool**: Vite 6.3.1
- **Platform**: Web (Initial), Electron (Planned)

## 開発環境のセットアップ

### 必要要件
- [Node.js](https://nodejs.org) (LTS推奨)

### インストール
```bash
npm install
```

### 開発サーバー起動
```bash
npm run dev
```

### ビルド
```bash
npm run build
```

## 操作方法 (Phase 2 時点)

- **機体をクリック**: 航空機の選択（ハイライト表示）
- **左 / 右 矢印キー**: 目標方位の変更（-30度 / +30度）
- **Esc キー**: 選択の解除

---

Created by kiyonori-matsumoto. Powered by Phaser & TypeScript.
